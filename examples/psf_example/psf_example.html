<br>
<h2>
Calculation of point spread functions
</h2>
<br>

<p>
The calculation of point spread functions is done by placing a point
in front of the transducer and then sweeping the beam over the point.
This gives the point spread function of the imaging system. Field II
can make this calculation for a number of points simultaneously and
thereby reveal the dynamic focusing properties of the imaging system.
A point phantom has been made for this purpose. It consists of a
number of point targets placed with a distance of 5 mm starting
at 15 mm from the transducer surface.
</p>

<p>
A linear sweep image is then made of the points and the
resulting image is compressed to show a 60 dB dynamic range. This
phantom is suited for showing the spatial variation of the point
spread function for a particular transducer, focusing, and apodization
scheme.
</p>

<p>
Twelve examples of using this phantom is shown in the figures below.
The top graphs show imaging without apodization and the bottom graphs show
when a Hanning window is used for apodization in both transmit and
receive. A 128 elements transducer with a nominal frequency of 3 MHz
was used. The element height was 5 mm, the width was a wavelength and
the kerf 0.1 mm. The excitation of the transducer consisted of 2
periods of a 3 MHz sinusoid with a Hanning weighting, and the
impulse response of both the emit and receive aperture also was
a two cycle, Hanning weighted pulse. In the graphs A - C, 64 of the
transducer elements was used for imaging, and the scanning was done
by translating the 64 active elements over the aperture and focusing
in the proper points. In graph D and E 128 elements were used and the
imaging was done solely by moving the focal points.
</p>

<p>
Graph A uses only a single focal point at 60 mm for both emission and
reception. B also uses reception focusing at every 20 mm starting from
30 mm. Graph C further adds emission focusing at 10, 20, 40, and 80 mm.
D applies the same focal zones as C, but uses 128 elements in the active
aperture.
</p>

<p>
The focusing scheme used for E and F applies a new receive profile for
each 2 mm. For analog beamformers this is a small zone size. For
digital beamformers it is a large zone size. Digital beamformer
can be programmed for each sample and thus a "continuous"
beam tracking can be obtained. In imaging systems focusing is used to
obtain high detail resolution and high contrast resolution preferably
constant for all depths. This is not possible, so compromises must be
made.  As an example figure F shows the result for multiple transmit
zones and receive zones, like  E, but now a restriction is put on the
active aperture. The size of the aperture is controlled to have a
constant F-number (depth of focus in tissue divided by width of aperture),
4 for transmit and 2 for receive, by dynamic apodization.
This gives a more homogeneous point spread function throughout the full
depth. Especially for the apodized version. Still it can be seen that the
composite transmit can be improved in order to avoid the increased
width of the point spread function at e.g. 40 and 60 mm.
</p>


<p>
The resulting images are:
<center>
  <a href="examples/psf_example/psf_plots.gif">
  <img src="examples/psf_example/psf_plots_half.gif"></a> <br><br>
<em>Point spread function phantom imaged without apodization.</em>
</center>
</p>

<p>
<center>
  <a href="examples/psf_example/psf_apo.gif">
  <img src="examples/psf_example/psf_apo_half.gif"></a>  <br><br>
<em>Point spread function phantom imaged with apodization.</em>
</center>
</p>

<p>
<center>
<em>Point target phantom imaged for different set-up of
transmit and receive focusing and apodization. See text for
an explanation of the set-up.</em>
</center>
</p>

<p>
The m-files for calculating the images can be found at:
<center>
 <a href="examples/ftp_files/psf">
          examples/ftp_files/psf</a>
</center>
</p>

<p>
The routine <em>field.m</em> initializes the field system, and should be modified
to point to the directory holding the Field II code and m-files. The routine
<em>pnt_img.m</em> is then called to calculate the different point spread function.
The phantom data is contained in <em>pts_pha.m</em> and the routine <em>mk_img.m</em>
makes the individual gray scale displays. The other routines are used for setting
the parameters for the different focusing and apodization schemes. 
</p>

<p>
The example can easily be modified to scan any phantom defined as a collection of point
targets. This can be done by modifying the file <em>pts_pha.m</em>.
</p>
<br>

